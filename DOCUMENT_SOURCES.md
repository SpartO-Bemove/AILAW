# üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ Neuralex

## üîç **–û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤?**

### **1. üìÅ –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞: `chroma_db_legal_bot_part1/`**

–≠—Ç–æ **–≥–ª–∞–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫** —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–Ω–∏–π –±–æ—Ç–∞. –í —ç—Ç–æ–π –ø–∞–ø–∫–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è:

```
chroma_db_legal_bot_part1/
‚îú‚îÄ‚îÄ chroma.sqlite3          # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ index/                  # –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
‚îî‚îÄ‚îÄ metadata/              # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è –†–§
- ‚úÖ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –∫–æ–¥–µ–∫—Å –†–§ (–ì–ö –†–§)
- ‚úÖ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§ (–£–ö –†–§)
- ‚úÖ –¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–§ (–¢–ö –†–§)
- ‚úÖ –°–µ–º–µ–π–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§ (–°–ö –†–§)
- ‚úÖ –ù–∞–ª–æ–≥–æ–≤—ã–π –∫–æ–¥–µ–∫—Å –†–§ (–ù–ö –†–§)
- ‚úÖ –ö–æ–ê–ü –†–§
- ‚úÖ –ñ–∏–ª–∏—â–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§
- ‚úÖ –ò –¥—Ä—É–≥–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–¥–µ–∫—Å—ã

### **2. üìÇ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã: `documents/`**

–°–∏—Å—Ç–µ–º–∞ —Ç–∞–∫–∂–µ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É `documents/` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤:

```
documents/
‚îú‚îÄ‚îÄ laws/                   # –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ example_law.txt
‚îú‚îÄ‚îÄ codes/                  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–¥–µ–∫—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ example_code.txt
‚îú‚îÄ‚îÄ articles/               # –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞—Ç—å–∏
‚îÇ   ‚îî‚îÄ‚îÄ example_article.txt
‚îî‚îÄ‚îÄ court_practice/         # –°—É–¥–µ–±–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞
    ‚îî‚îÄ‚îÄ example_practice.txt
```

## üîß **–ö–∞–∫ —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ –∫–æ–¥–µ:**

### **–í —Ñ–∞–π–ª–µ `neuralex-main/enhanced_neuralex.py`:**

```python
class EnhancedNeuralex(neuralex):
    def __init__(self, llm, embeddings, vector_store, redis_url=None, documents_path="documents"):
        super().__init__(llm, embeddings, vector_store, redis_url)
        
        # –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
        self.document_loader = DocumentLoader(documents_path)
        self._load_additional_documents()
    
    def _load_additional_documents(self):
        # –°–∫–∞–Ω–∏—Ä—É–µ–º –ø–∞–ø–∫—É documents/
        additional_docs = self.document_loader.load_all_documents()
        
        if additional_docs:
            # –î–æ–±–∞–≤–ª—è–µ–º –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É
            self._add_documents_to_vector_store(additional_docs)
```

### **–í —Ñ–∞–π–ª–µ `bot/handlers.py`:**

```python
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã
vector_store = Chroma(
    persist_directory="chroma_db_legal_bot_part1",  # ‚Üê –û–°–ù–û–í–ù–ê–Ø –ë–ê–ó–ê
    embedding_function=embeddings
)

# –°–æ–∑–¥–∞–µ–º enhanced neuralex —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
law_assistant = EnhancedNeuralex(
    llm, embeddings, vector_store, 
    redis_url, "documents"  # ‚Üê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´
)
```

## üìä **–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ:**

### **‚úÖ –ß—Ç–æ –£–ñ–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:**

1. **–û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ `chroma_db_legal_bot_part1/`:**
   - –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–¥–µ–∫—Å—ã –†–§
   - –ì–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
   - –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∞ –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞

2. **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É `documents/`
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PDF, DOCX, TXT, MD
   - –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### **üìù –ß—Ç–æ –º–æ–∂–Ω–æ –î–û–ë–ê–í–ò–¢–¨:**

–í –ø–∞–ø–∫—É `documents/` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –ù–æ–≤—ã–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã
- –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- –°—É–¥–µ–±–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–¥–µ–∫—Å–∞–º
- –†–∞–∑—ä—è—Å–Ω–µ–Ω–∏—è –í–µ—Ä—Ö–æ–≤–Ω–æ–≥–æ –°—É–¥–∞

## üîç **–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ:**

### **1. –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±–æ—Ç–∞:**
```
/admin ‚Üí üìÑ –î–æ–∫—É–º–µ–Ω—Ç—ã ‚Üí üìö –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```

### **2. –ß–µ—Ä–µ–∑ –∫–æ–¥:**
```python
# –í handlers.py
docs_info = law_assistant.get_documents_info()
print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: {docs_info['stats']['total_files']}")
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–π –±–∞–∑—ã:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É
if os.path.exists("chroma_db_legal_bot_part1"):
    print("‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –∑–∞–∫–æ–Ω–æ–≤ –Ω–∞–π–¥–µ–Ω–∞")
else:
    print("‚ùå –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç")
```

## üéØ **–ò—Ç–æ–≥:**

**–î–æ–∫—É–º–µ–Ω—Ç—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –î–í–£–• –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**

1. **`chroma_db_legal_bot_part1/`** - –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–¥–µ–∫—Å—ã –†–§ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
2. **`documents/`** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å)

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –í–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –ø–æ–∏—Å–∫–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

–í—Å—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –£–ñ–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ‚öñÔ∏è